(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["user_privilege"],{

/***/ "./client/src/js/user_privilege.js":
/*!*****************************************!*\
  !*** ./client/src/js/user_privilege.js ***!
  \*****************************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _base__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./base */ \"./client/src/js/base.js\");\n/* harmony import */ var _mixin__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./mixin */ \"./client/src/js/mixin.js\");\n\n\nnew _base__WEBPACK_IMPORTED_MODULE_0__[\"default\"]({\n  el: '#app',\n  mixins: [_mixin__WEBPACK_IMPORTED_MODULE_1__[\"mixinExt\"]],\n  created: function created() {\n    var that = this; // console.log(this);\n\n    that.$api.privilege.get().then(function (data) {\n      that.tdata = data.data;\n      that.tdata.unshift({\n        parent_id: 0,\n        pri_name: '顶级权限',\n        level: 0\n      });\n      that.items = that.tdata.map(function (item) {\n        item.pri_name = new Array(item.level + 1).join('------') + item.pri_name;\n        return item;\n      });\n    }).catch(function (data) {\n      console.log('eeeeeeeeeeeee');\n      console.log(data);\n    });\n  },\n  data: function data() {\n    return {\n      showAdd: false,\n      showEdit: false,\n      selectID: 1,\n      // delID:null,\n      items: null,\n      theader: [{\n        text: 'ID',\n        align: 'left',\n        value: 'id',\n        sortable: false\n      }, {\n        text: '权限名称',\n        align: 'left',\n        value: 'pri_name',\n        sortable: false\n      }, {\n        text: '模块名称',\n        align: 'right',\n        value: 'module_name',\n        sortable: false\n      }, {\n        text: '控制器名称',\n        align: 'right',\n        value: 'controller_name',\n        sortable: false\n      }, {\n        text: '方法名',\n        align: 'right',\n        value: 'action_name',\n        sortable: false\n      }, {\n        text: '操作',\n        align: 'center',\n        value: '_act',\n        sortable: false\n      }],\n      tdata: [],\n      editItem: {},\n      addItem: {},\n      message: {\n        show: false,\n        text: '',\n        time: 3000,\n        color: 'success'\n      }\n    };\n  },\n  methods: {\n    edit: function edit(item) {\n      this.editItem = item;\n      this.showEdit = true;\n    },\n    del: function del(id) {\n      var that = this;\n      that.$api.privilege.del({\n        data: id\n      }).then(function (data) {\n        that.message.text = data.message;\n        that.message.color = 'success';\n        that.message.show = true;\n        setTimeout(function () {\n          window.location.reload();\n        }, 2000);\n      }).catch(function (data) {\n        //function(data){}\n        that.message.text = data.message;\n        that.message.color = 'error';\n        that.message.show = true; // that.submitLoading = false;\n      });\n    },\n    addCommit: function addCommit() {\n      var that = this;\n      that.$api.privilege.add({\n        data: that.addItem\n      }).then(function (res) {\n        // that.editItem.id = data.id;\n        that.showAdd = false;\n        that.message.text = res.message;\n        that.message.color = 'success';\n        that.message.show = true; // that.addItem.id = res.data.id\n\n        setTimeout(function () {\n          window.location.reload();\n        }, 2000); // that.tdata.unshift(that.addItem);\n      }).catch(function (data) {\n        //function(data){}\n        // console.log('失败了')\n        that.message.text = data.message;\n        that.message.color = 'error';\n        that.message.show = true;\n        that.submitLoading = false;\n      });\n    },\n    editCommit: function editCommit() {\n      var that = this;\n      that.$api.privilege.edit({\n        data: this.editItem\n      }).then(function (data) {\n        // that.editItem.id = data.id;\n        that.showEdit = false;\n        that.message.text = data.message;\n        that.message.color = 'success';\n        that.message.show = true;\n      }).catch(function (data) {\n        //function(data){}\n        // console.log('失败了')\n        that.message.text = data.message;\n        that.message.color = 'error';\n        that.message.show = true;\n        that.submitLoading = false;\n      });\n      this.editItem;\n    }\n  }\n});\n\n//# sourceURL=webpack:///./client/src/js/user_privilege.js?");

/***/ })

},[["./client/src/js/user_privilege.js","runtime","vendor"]]]);