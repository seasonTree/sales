(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{67:function(t,e,n){"use strict";n.r(e);var o=n(0),a=n(6),i=n(1);new o.a({el:"#app",mixins:[i.b],components:{uploadImage:a.a},created:function(){var t=this;t.$api.user.getOneUser().then(function(e){t.data=e.data,t.data.verify_code="",t.originPhone=JSON.parse(JSON.stringify(e.data.phone))}).catch(function(e){t.$comp.toast({text:"获取数据失败，请刷新后重试.",color:"error"})})},computed:{phoneChange:function(){return this.data.phone!=this.originPhone}},methods:{submit:function(){var t=this;t.$api.user.insUserInfo({data:t.data}).then(function(e){0==e.code?t.$comp.toast({text:e.msg}):t.$comp.toast({text:e.msg,color:"error"})}).catch(function(e){t.$comp.toast({text:"提交失败，请刷新后重试.",color:"error"})})},sendSMS:function(){var t=this,e=this;e.phoneRex.test(e.data.phone)?(e.smsDisabled=!0,e.identifyBtnText=59,e.sendInterval=setInterval(function(){1==e.identifyBtnText?(e.smsDisabled=!1,e.identifyBtnText="发送验证码",clearInterval(e.sendInterval)):e.identifyBtnText--},1e3),e.$api.user.sendSMS({data:{phone_num:e.data.phone}}).then(function(e){0==e.code?t.$comp.toast({text:e.msg}):t.$comp.toast({text:e.msg,color:"error"})}).catch(function(e){t.$comp.toast({text:"发送失败,请重试.",color:"error"})})):this.$comp.toast({text:"请输入正确的手机号码.",color:"error"})}},data:function(){return{data:{},originPhone:"",phoneRex:/^((13[0-9])|(14[5|7])|(15([0-3]|[5-9]))|(18[0-9])|(17[0-9])|(19[0-9])|16[6])\d{8}$/,smsDisabled:!1,identifyBtnText:"发送验证码"}}})}},[[67,0,2,1]]]);