(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{72:function(t,e,a){"use strict";a.r(e);var o=a(0),s=a(1),i=a(6);new o.a({el:"#app",mixins:[s.b],components:{uploadImage:i.a},created:function(){var t=this,e=this;e.$api.team.lst().then(function(t){for(var a=t.data,o=null,s=0;s<a.length;s++){var i=a[s];o&&o.phone==i.phone&&(o.hideBorder=!0,i.hidePre=!0),o=i}e.tdata=a}).catch(function(e){t.$comp.toast({text:"获取数据失败，请重试.",color:"error"})})},methods:{showInvitation:function(){var t=this,e=this;e.$api.team.showQrCode().then(function(t){e.qr_code=t.data,e.showAdd=!0}).catch(function(e){t.$comp.toast({text:"获取二维码失败，请重试.",color:"error"})})},CopyUrl:function(t){var e=t,a=!0;if(window.clipboardData)window.clipboardData.setData("Text",e);else{var o=this.CreateElementForExecCommand(e);this.SelectContent(o);try{window.netscape&&netscape.security&&netscape.security.PrivilegeManager.enablePrivilege("UniversalXPConnect"),a=document.execCommand("copy",!1,null)}catch(t){a=!1}document.body.removeChild(o)}a?this.$comp.toast({text:"复制成功."}):this.$comp.toast({text:"复制失败.",color:"error"})},CreateElementForExecCommand:function(t){var e=document.createElement("div");return e.style.position="absolute",e.style.left="-10000px",e.style.top="-10000px",e.textContent=t,document.body.appendChild(e),e.contentEditable=!0,e},SelectContent:function(t){var e=document.createRange();e.selectNodeContents(t);var a=window.getSelection();a.removeAllRanges(),a.addRange(e)},showEditSales:function(t,e){var a=this;a.$api.user.getOneUser({data:t.id}).then(function(t){0==t.code?a.editSales=t.data:a.$comp.toast({text:t.msg||"获取数据失败，请重试.",color:"error"})}).catch(function(t){a.$comp.toast({text:t.msg||"获取数据失败，请重试.",color:"error"})}),a.showEditDialog=!0},editSalesHandler:function(){var t=this;t.disabled.editSales=!0,t.$api.user.insUserInfo({data:t.editSales}).then(function(e){0==e.code?(t.$comp.toast({text:"修改成功, 请等待审核通过."}),t.closeDialog("editSales")):t.$comp.toast({text:e.msg||"修改失败，请重试.",color:"error"}),t.disabled.editSales=!1}).catch(function(e){t.$comp.toast({text:e.msg||"修改失败，请重试.",color:"error"}),t.disabled.editSales=!1})},changeStatus:function(t){var e=this;this.$api.team.changeStatus({data:{id:t.id,status:t.status}}).then(function(e){t.status=e.data.status}).catch(function(t){e.$comp.toast({text:"操作失败，请重试.",color:"error"})})},showPasswordDialog:function(t){this.changePassword.id=t.id,this.showEditPassword=!0},commitPassword:function(){var t=this,e=this;e.changePassword.submitLoading=!0,e.$refs.PassRef.validate()&&e.$api.user.resetPassword({data:e.changePassword}).then(function(a){0==a.code?(t.$comp.toast({text:a.msg}),e.closeDialog("editPass")):t.$comp.toast({text:a.msg,color:"error"}),e.changePassword.submitLoading=!1}).catch(function(e){t.$comp.toast({text:"修改失败,请重试.",color:"error"}),t.changePassword.submitLoading=!1})},closeDialog:function(t){"editSales"==t?(this.$refs.editSalesForm.reset(),this.showEditDialog=!1):"editPass"==t&&(this.showEditPassword=!1,this.$refs.PassRef.reset())}},data:function(){return{showAdd:!1,showEditDialog:!1,showEditPassword:!1,qr_code:{},editSales:{},disabled:{editSales:!1},changePassword:{valid:!1,show:!1,passVis:!1,passVis1:!1,password:"",rePassword:"",submitLoading:!1},theader:[{text:"姓名",align:"left",value:"name",sortable:!1},{text:"电话",align:"left",value:"phone",sortable:!1},{text:"负责/关联渠道",align:"right",value:"c",sortable:!1},{text:"业绩目标",align:"left",value:"d",sortable:!1},{text:"医生目标",align:"left",value:"e",sortable:!1},{text:"设置",align:"left",value:"f",sortable:!1},{text:"操作",align:"center",value:"g",sortable:!1}],tdata:[]}}})}},[[72,0,2,1]]]);