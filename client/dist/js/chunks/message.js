(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{65:function(t,e,a){"use strict";a.r(e);var s=a(0),o=a(1);new s.a({el:"#app",mixins:[o.b],created:function(){var t=this;t.$api.message.lst().then(function(e){t.tdata=e.data}).catch(function(e){t.$comp.toast({text:"获取数据失败，请刷新后重试.",color:"error"})})},methods:{showMessage:function(t){var e=this,a=JSON.parse(JSON.stringify(t));e.message.id=a.id,e.message.title=a.title,e.message.content=a.content,e.message.show=!0,e.$api.message.isRead({data:a.id}).then(function(a){0==a.code&&(e._checkMessage(),t.status=1)}).catch(function(t){})},delMessage:function(t,e){var a=this;a.$comp.confirm({title:"提示",text:"确认要删除吗?",ok:function(){a.$api.message.delMessage({data:t}).then(function(t){0==t.code?(a.$comp.toast({text:t.msg}),a.tdata.splice(e,1)):a.$comp.toast({text:t.msg||"删除失败，请重试.",color:"error"})}).catch(function(t){a.$comp.toast({text:t.msg||"删除失败，请重试.",color:"error"})})}})},closeDialog:function(){var t=this;t.message.show=!1,t.message.id=null,t.message.title="",t.message.content=""}},data:function(){return{message:{show:!1,id:"",title:"",content:""},theader:[{text:"标题",align:"left",value:"title",sortable:!1},{text:"发送人",align:"left",value:"name",sortable:!1},{text:"发送时间",align:"left",value:"create_time",sortable:!1},{text:"",align:"left",sortable:!1}],tdata:[]}}})}},[[65,0,2,1]]]);