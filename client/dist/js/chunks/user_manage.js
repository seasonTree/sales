(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["user_manage"],{

/***/ "./client/src/js/user_manage.js":
/*!**************************************!*\
  !*** ./client/src/js/user_manage.js ***!
  \**************************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _base__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./base */ \"./client/src/js/base.js\");\n/* harmony import */ var _mixin__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./mixin */ \"./client/src/js/mixin.js\");\n\n\nnew _base__WEBPACK_IMPORTED_MODULE_0__[\"default\"]({\n  el: '#app',\n  mixins: [_mixin__WEBPACK_IMPORTED_MODULE_1__[\"mixinExt\"]],\n  created: function created() {\n    var that = this;\n    that.$api.user.get().then(function (data) {\n      that.rolesAll = data.data;\n      that.tdata = data.Userdata;\n    }).catch(function (data) {\n      console.log('eeeeeeeeeeeee');\n      console.log(data);\n    });\n  },\n  data: function data() {\n    return {\n      show_pass: false,\n      show_pass1: false,\n      rolesAll: {},\n      userAll: {},\n      addData: {\n        role_id: []\n      },\n      editData: {\n        role_id: []\n      },\n      showAdd: false,\n      showEdit: false,\n      theader: [{\n        text: 'ID',\n        align: 'left',\n        value: 'id',\n        sortable: false\n      }, {\n        text: '登录名',\n        align: 'left',\n        value: 'username',\n        sortable: false\n      }, {\n        text: '角色',\n        align: 'right',\n        value: 'role_name',\n        sortable: false\n      }, {\n        text: '是否启用',\n        align: 'left',\n        value: 'status',\n        sortable: false\n      }, {\n        text: '操作',\n        align: 'center',\n        value: 'e',\n        sortable: false\n      }],\n      tdata: []\n    };\n  },\n  methods: {\n    addCommit: function addCommit() {\n      var that = this,\n          data = {}; // console.log(that.addData);\n\n      that.$api.user.add({\n        data: that.addData\n      }).then(function (res) {\n        that.showAdd = false;\n        that.$comp.toast({\n          text: res.msg\n        });\n\n        if (res.code == 0) {\n          setTimeout(function () {\n            window.location.reload();\n          }, 2000);\n        }\n      }).catch(function (data) {\n        //function(data){}\n        that.$comp.toast({\n          text: data.msg,\n          color: 'error'\n        });\n      });\n    },\n    del: function del(id) {\n      var that = this;\n      that.$api.user.del({\n        data: id\n      }).then(function (data) {\n        that.$comp.toast({\n          text: data.msg\n        });\n        setTimeout(function () {\n          window.location.reload();\n        }, 2000);\n      }).catch(function (data) {\n        //function(data){}\n        that.$comp.toast({\n          text: data.msg,\n          color: 'error'\n        });\n      });\n    },\n    edit: function edit(item) {\n      item.role_id = item.role_id ? item.role_id.split(',').map(function (item) {\n        return parseInt(item, 10);\n      }) : [];\n      this.editData = item;\n      this.showEdit = true;\n    },\n    editCommit: function editCommit() {\n      var that = this;\n      that.$api.user.edit({\n        data: that.editData\n      }).then(function (data) {\n        that.showEdit = false;\n        that.$comp.toast({\n          text: data.msg\n        }); // setTimeout(function () {\n        //     window.location.reload();\n        // },2000)\n      }).catch(function (data) {\n        //function(data){}\n        that.$comp.toast({\n          text: data.msg,\n          color: 'error'\n        });\n      });\n    }\n  }\n});\n\n//# sourceURL=webpack:///./client/src/js/user_manage.js?");

/***/ })

},[["./client/src/js/user_manage.js","runtime","vendor","common"]]]);