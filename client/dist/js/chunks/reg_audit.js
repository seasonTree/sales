(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{70:function(t,e,a){"use strict";a.r(e);var o=a(0),i=a(1);new o.a({el:"#app",mixins:[i.b],created:function(){this.getReomteData()},watch:{currentDataType:{handler:function(t,e){this.pager.index=1,this.getReomteData()}}},methods:{getReomteData:function(){var t=this;t.$api.audit.getRegLst({type:t.currentDataType,pageSize:t.pager.size,pageIndex:t.pager.index}).then(function(e){0==e.code?t.tdata=e.data:t.$comp.toast({text:e.msg,color:"error"})}).catch(function(e){t.$comp.toast({text:"获取失败，请重试.",color:"error"})})},changePage:function(){this.getReomteData()},viewAudit:function(t){var e=this;e.type="p",e.$api.user.getOneUser({data:t}).then(function(t){0==t.code?(e.viewAuditInfo=t.data,0==t.data.parent_id?e.type="c":e.type="p"):e.$comp.toast({text:t.msg,color:"error"})}).catch(function(t){e.$comp.toast({text:"获取失败，请重试.",color:"error"})}),e.auditInfo=!0},bigImage:function(t){this.image_url=t,this.viewImage=!0},auditCommit:function(t){var e=this;e.data.uid=t,e.data.type=1,e.agreeDisabled=!0,e.$api.audit.auditCommit({data:e.data}).then(function(t){0==t.code?(e.$comp.toast({text:t.msg}),e.getReomteData(),e.closeDialog()):(e.$comp.toast({text:t.msg,color:"error"}),e.agreeDisabled=!1)}).catch(function(t){e.$comp.toast({text:"提交失败，请重试.",color:"error"}),e.submitLoading=!1})},auditNotPs:function(t){this.data.uid=t,this.auditNotPass=!0},auditCommitNotPass:function(){var t=this;t.data.type=-1,t.disagressDisabled=!0,t.$api.audit.auditCommit({data:t.data}).then(function(e){0==e.code?(t.$comp.toast({text:e.msg}),t.getReomteData(),t.closeDialog()):(t.$comp.toast({text:e.msg,color:"error"}),t.disagressDisabled=!1)}).catch(function(e){t.$comp.toast({text:"提交失败，请重试.",color:"error"}),t.submitLoading=!1})},closeDialog:function(){var t=this;t.viewAuditInfo={},t.auditInfo=!1,t.auditNotPass=!1,t.date={note:"",uid:"",type:""}}},data:function(){return{auditInfo:!1,viewImage:!1,auditNotPass:!1,agreeDisabled:!1,disagressDisabled:!1,type:"",image_url:"",data:{note:"",uid:"",type:""},viewAuditInfo:{},tableLoading:!1,currentDataType:0,tableType:[{text:"全部",value:100},{text:"待审核",value:0},{text:"已通过",value:1},{text:"未通过",value:-1}],pager:{totalVisible:7,count:1,index:1,size:10},theader:[{text:"用户名",align:"left",value:"username",sortable:!1},{text:"姓",align:"left",value:"first_name",sortable:!1},{text:"名",align:"left",value:"last_name",sortable:!1},{text:"角色",align:"left",value:"role_name",sortable:!1},{text:"电话",align:"left",value:"phone",sortable:!1},{text:"操作",align:"center",value:"f",sortable:!1}],tdata:[]}}})}},[[70,0,2,1]]]);