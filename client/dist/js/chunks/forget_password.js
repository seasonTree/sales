(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{62:function(t,e,n){"use strict";n.r(e);var o=n(0),i=n(1);new o.a({el:"#app",mixins:[i.a],data:function(){var t=this;return{data:{phone_num:"",identify_code:""},valid:!1,sending:!1,phoneRex:/^((13[0-9])|(14[5|7])|(15([0-3]|[5-9]))|(18[0-9])|(17[0-9])|(19[0-9])|16[6])\d{8}$/,phoneRoules:[function(t){return!!t||"手机号必填"},function(e){return t.phoneRex.test(e)||"手机号不正确"}],IdentifyingCodeRoules:[function(t){return!!t||"验证码必填"}],identifyBtnText:"发送验证码",sendInterval:null,smsDisabled:!0}},watch:{data:{handler:function(t,e){this.smsDisabled=this.sending||!this.phoneRex.test(t.phone_num)},deep:!0}},methods:{sendSMS:function(){var t=this,e=this;e.sending=!0,e.smsDisabled=!0,e.identifyBtnText=59,e.sendInterval=setInterval(function(){1==e.identifyBtnText?(e.sending=!1,e.smsDisabled=!e.phoneRex.test(e.data.phone_num),e.identifyBtnText="发送验证码",clearInterval(e.sendInterval)):e.identifyBtnText--},1e3),e.$api.user.sendSMS({data:e.data}).then(function(e){0==e.code?t.$comp.toast({text:e.msg}):t.$comp.toast({text:e.msg,color:"error"})}).catch(function(e){t.$comp.toast({text:"发送失败,请重试.",color:"error"})})},submit:function(){var t=this,e=this;e.$refs.form.validate()&&e.$api.user.checkPasswordSMS({data:e.data}).then(function(e){0==e.code?(t.$comp.toast({text:e.msg}),setTimeout(function(){window.location.href=e.data.url+"?uid="+e.data.uid},3e3)):t.$comp.toast({text:e.msg,color:"error"})}).catch(function(e){t.$comp.toast({text:"验证失败,请重试.",color:"error"})})}}})}},[[62,0,2,1]]]);