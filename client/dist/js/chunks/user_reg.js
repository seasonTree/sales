(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{78:function(t,e,n){"use strict";n.r(e);var o=n(0),s=n(1),r=n(2);new o.a({el:"#app",mixins:[s.a],methods:{submit:function(){var t=this,e=this;e.submitLoading=!0,e.data.referralCode=Object(r.e)("referralCode"),e.$api.register.userRegister({data:e.data}).then(function(n){0==n.code?(t.$comp.toast({text:"注册成功, 2秒后自动跳转..."}),setTimeout(function(){window.location.href=n.data.url},2e3)):(t.$comp.toast({text:n.msg,color:"error"}),e.submitLoading=!1)}).catch(function(n){t.$comp.toast({text:"注册失败，请刷新页面后重试.",color:"error"}),e.submitLoading=!1})},sendSMS:function(){var t=this,e=this;e.sending=!0,e.smsDisabled=!0,e.identifyBtnText=59,e.sendInterval=setInterval(function(){1==e.identifyBtnText?(e.sending=!1,e.smsDisabled=!e.phoneRex.test(e.data.phone_num),e.identifyBtnText="发送验证码",clearInterval(e.sendInterval)):e.identifyBtnText--},1e3),e.$api.user.sendSMS({data:{phone_num:e.data.phone_num}}).then(function(e){0==e.code?t.$comp.toast({text:e.msg}):t.$comp.toast({text:e.msg,color:"error"})}).catch(function(e){t.$comp.toast({text:"发送失败,请重试.",color:"error"})})}},data:function(){var t=this;return{valid:!1,show_pass:!1,show_pass1:!1,dialog:!1,submitLoading:!1,register_title:"",register_content:"",protocol:{id:""},data:{username:"",password:"",rePassword:"",phone_num:"",identify_code:"",agree:!1},sending:!1,userRex:/^[a-zA-Z]([_a-zA-Z0-9]{5,12})+$/,phoneRex:/^((13[0-9])|(14[5|7])|(15([0-3]|[5-9]))|(18[0-9])|(17[0-9])|(19[0-9])|16[6])\d{8}$/,userNameRoules:[function(t){return!!t||"用户名必填"},function(e){return t.userRex.test(e)||"用户名6至12位，以字母开头,字母，数字，减号，下划线"}],phoneRoules:[function(t){return!!t||"手机号必填"},function(e){return t.phoneRex.test(e)||"手机号不正确"}],passwordRoules:[function(t){return!!t||"密码是必填"},function(t){return 6<=t.length||"密码最少6位"}],rePasswordRoules:[function(t){return!!t||"确认密码是必填"},function(e){return t.data.password==e||"两次输入的密码不一致"}],IdentifyingCodeRoules:[function(t){return!!t||"验证码必填"}],checkAgree:[function(t){return!!t||""}],identifyBtnText:"发送验证码",sendInterval:null,smsDisabled:!0}},watch:{data:{handler:function(t,e){this.smsDisabled=this.sending||!this.phoneRex.test(t.phone_num)},deep:!0}}})}},[[78,0,2,1]]]);