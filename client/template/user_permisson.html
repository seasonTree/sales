<!-- 权限管理 -->
{extend name="layout:head2_layout"/}

{block name="css"}

{/block}

{block name="body"}
<v-container class="content" grid-list-md text-xs-center>
    <div class="content-header">
        权限管理
    </div>

    <div class="action-bar">
        <v-btn color="s-primary" class="ml-0" @click="showAdd = true">
            <v-icon dark>add</v-icon>新增
        </v-btn>
    </div>


    <v-data-table :headers="theader" :items="tdata" hide-actions class="elevation-1 s-table">
        <template slot="items" slot-scope="props">
            <td class="text-xs-left">{{ props.item.id }}</td>
            <td class="text-xs-left">
                {{ props.item.pri_name }}
            </td>
            <td class="text-xs-left">{{ props.item.module_name }}</td>
            <td class="text-xs-left">{{ props.item.controller_name }}</td>
            <td class="text-xs-left">{{ props.item.action_name }}</td>
            <td class="text-xs-center">
                <v-icon small class="mr-2" @click="edit(props.item)">
                    edit
                </v-icon>
                <v-icon small>
                    delete
                </v-icon>
            </td>
        </template>
    </v-data-table>
    <v-dialog scrollable v-model="showAdd" width="500">
        <v-card>
            <v-card-title class="headline grey lighten-2" primary-title>
                新增
            </v-card-title>

            <v-card-text>
                <v-form>
                    <v-select :items="items"  item-text="pri_name" item-value="id" label="上级权限"></v-select>
                    <v-text-field label="权限名称" ></v-text-field>
                    <v-text-field label="模块"></v-text-field>
                    <v-text-field label="控制器"></v-text-field>
                    <v-text-field label="方法"></v-text-field>
                </v-form>
            </v-card-text>

            <v-card-actions>
                <v-spacer></v-spacer>
                <v-btn color="s-primary" @click="addCommit()">
                    确认
                </v-btn>
                <v-btn color="primary" flat @click="showAdd = false">
                    取消
                </v-btn>
            </v-card-actions>
        </v-card>
    </v-dialog>

    <v-dialog scrollable v-model="showEdit" width="500">
        <v-card>
            <v-card-title class="headline grey lighten-2" primary-title>
                修改
            </v-card-title>

            <v-card-text>
                <v-form>
                    <v-select :items="items" item-text="pri_name" item-value="id" label="上级权限" v-model="editItem.parent_id"></v-select>
                    <v-text-field label="权限名称" v-model="editItem.pri_name"></v-text-field>
                    <v-text-field label="模块" v-model="editItem.module_name"></v-text-field>
                    <v-text-field label="控制器" v-model="editItem.controller_name"></v-text-field>
                    <v-text-field label="方法" v-model="editItem.action_name"></v-text-field>
                </v-form>
            </v-card-text>

            <v-card-actions>
                <v-spacer></v-spacer>
                <v-btn color="s-primary" @click="editCommit()">
                    确认
                </v-btn>
                <v-btn color="primary" flat @click="showEdit = false">
                    取消
                </v-btn>
            </v-card-actions>
        </v-card>
    </v-dialog>

    <!--<v-snackbar-->
            <!--v-model="snackbar"-->
            <!--:bottom="y === 'bottom'"-->
            <!--:left="x === 'left'"-->
            <!--:multi-line="mode === 'multi-line'"-->
            <!--:right="x === 'right'"-->
            <!--:timeout="timeout"-->
            <!--:top="y === 'top'"-->
            <!--:vertical="mode === 'vertical'"-->
    <!--&gt;-->
        <!--{{ 成功}}-->
        <!--<v-btn-->
                <!--color="pink"-->
                <!--flat-->
                <!--@click="snackbar = false"-->
        <!--&gt;-->
            <!--Close-->
        <!--</v-btn>-->
    <!--</v-snackbar>-->

</v-container>
{/block}

{block name="script"}
<script src="__basePath__/js/chunks/user_permisson.js?date=__date__"></script>
{/block}
