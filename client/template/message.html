{extend name="layout:head2_layout"/}

{block name="css"}

{/block}

{block name="body"}
<v-container class="content" grid-list-md text-xs-center>
    <div class="content-header">
        系统消息
    </div>

    <v-data-table :headers="theader" :items="tdata" hide-actions class="elevation-1 s-table">
        <template slot="items" slot-scope="props">
            <tr @click="showMessage(props.index)">
                <td class="text-xs-left">{{ props.item.id }}</td>
                <td class="text-xs-left">{{ props.item.title }}</td>
                <td class="text-xs-left">{{ props.item.first_name }}{{ props.item.last_name }}</td>
                <td class="text-xs-left">{{ props.item.create_time }}</td>
                <td class="text-xs-left">
                    <v-icon small title="标记已读" class="mr-3">
                        check
                    </v-icon>
                    <v-icon small title="删除">
                        delete
                    </v-icon>
                </td>
            </tr>
        </template>
    </v-data-table>
</v-container>

<v-dialog scrollable v-model="viewMessage" width="500">
    <v-card>
        <v-card-title class="headline grey lighten-2" primary-title>
            {{ m_title }}
        </v-card-title>

        <v-card-text>
            {{ m_content }}
        </v-card-text>

        <v-divider></v-divider>

        <v-card-actions>
            <v-spacer></v-spacer>
            <v-btn color="s-primary" @click="viewMessage = false">
                标记已读
            </v-btn>
            <v-btn color="primary" flat @click="viewMessage = false">
                关闭
            </v-btn>
        </v-card-actions>
    </v-card>
</v-dialog>
{/block}

{block name="script"}
<script src="__basePath__/js/chunks/message.js?date=__date__"></script>
{/block}